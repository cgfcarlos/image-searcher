(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{V1YL:function(t,e,n){"use strict";n.r(e),n.d(e,"UserModule",function(){return et});var o=n("SVse"),r=n("2ZDr"),c=n("NA4g"),i=n("D21E"),a=n("8Y7J");let s=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},imports:[[o.c,c.a]]}),t})(),p=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},imports:[[o.c,s,i.a]]}),t})();var l=n("QR6e");let g=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},imports:[[o.c,l.a,i.a]]}),t})(),u=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},imports:[[o.c,l.a,r.a,i.a]]}),t})();var b=n("iInd"),f=n("AytR"),d=n("IheW");let h=(()=>{class t{constructor(t){this.http=t,this.pathUser="/users",this.pathPhotos="/photos",this.pathLikes="/likes",this.pathCollections="/collections"}getUser(t){return this.http.get(`${f.a.url_base}${this.pathUser}/${t}`)}getUserPhotos(t,e={page:0,per_page:20}){return this.http.get(`${f.a.url_base}${this.pathUser}/${t}${this.pathPhotos}?page${e.page}&per_page${e.per_page}`)}getUserLikes(t,e={page:0,per_page:20}){return this.http.get(`${f.a.url_base}${this.pathUser}/${t}${this.pathLikes}?page${e.page}&per_page${e.per_page}`)}getUserCollections(t,e={page:0,per_page:20}){return this.http.get(`${f.a.url_base}${this.pathUser}/${t}${this.pathCollections}?page${e.page}&per_page${e.per_page}`)}}return t.\u0275fac=function(e){return new(e||t)(a.Vb(d.b))},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),m=(()=>{class t{constructor(t){this.userApi=t}resolve(t,e){return this.userApi.getUserCollections(t.paramMap.get("id"))}}return t.\u0275fac=function(e){return new(e||t)(a.Vb(h))},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=n("lJxs"),O=n("PDjf");let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Gb({type:t,selectors:[["collection"]],inputs:{collection:"collection"},decls:3,vars:1,consts:[[1,"mat-elevation-z8"],["mat-card-image","","alt","",3,"src"]],template:function(t,e){1&t&&(a.Rb(0,"mat-card",0),a.Rb(1,"mat-card-header"),a.Nb(2,"img",1),a.Qb(),a.Qb()),2&t&&(a.Bb(2),a.jc("src",e.collection.cover_photo.urls.regular,a.rc))},directives:[O.a,O.d,O.e],styles:[""]}),t})();function P(t,e){1&t&&a.Nb(0,"collection",4),2&t&&a.jc("collection",e.$implicit)}function C(t,e){if(1&t&&(a.Pb(0),a.Rb(1,"div",2),a.wc(2,P,1,1,"collection",3),a.Qb(),a.Ob()),2&t){const t=e.ngIf;a.Bb(2),a.jc("ngForOf",t)}}function M(t,e){1&t&&a.Nb(0,"div")}let w=(()=>{class t{constructor(t){this.activatedRoute=t,this.collections$=this.activatedRoute.data.pipe(Object(v.a)(t=>t.collections))}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(b.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["user-collections"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loading",""],[1,"container"],["class","collection",3,"collection",4,"ngFor","ngForOf"],[1,"collection",3,"collection"]],template:function(t,e){if(1&t&&(a.wc(0,C,3,1,"ng-container",0),a.ec(1,"async"),a.wc(2,M,1,0,"ng-template",null,1,a.xc)),2&t){const t=a.oc(3);a.jc("ngIf",a.fc(1,2,e.collections$))("ngIfElse",t)}},directives:[o.l,o.k,_],pipes:[o.b],styles:[".container[_ngcontent-%COMP%]{padding-top:1em;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]    {height:70vh;margin:0 auto}.container[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]     mat-card img.mat-card-image{height:55vh!important}"]}),t})(),k=(()=>{class t{constructor(t){this.userApi=t}resolve(t,e){return this.userApi.getUserLikes(t.paramMap.get("id"))}}return t.\u0275fac=function(e){return new(e||t)(a.Vb(h))},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var y=n("gSK8");function R(t,e){if(1&t){const t=a.Sb();a.Rb(0,"photo",4),a.Zb("onProfileClicked",function(e){return a.qc(t),a.dc(2).goToUserProfile(e)}),a.Qb()}2&t&&a.jc("photo",e.$implicit)}function Q(t,e){if(1&t&&(a.Pb(0),a.Rb(1,"div",2),a.wc(2,R,1,1,"photo",3),a.Qb(),a.Ob()),2&t){const t=e.ngIf;a.Bb(2),a.jc("ngForOf",t)}}function I(t,e){1&t&&a.Nb(0,"div")}let j=(()=>{class t{constructor(t,e){this.activatedRoute=t,this.router=e,this.photos$=this.activatedRoute.data.pipe(Object(v.a)(t=>t.photos))}goToUserProfile(t){this.router.navigate(["/users",{id:t}])}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(b.a),a.Mb(b.b))},t.\u0275cmp=a.Gb({type:t,selectors:[["user-likes"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loading",""],[1,"container"],["class","photo",3,"photo","onProfileClicked",4,"ngFor","ngForOf"],[1,"photo",3,"photo","onProfileClicked"]],template:function(t,e){if(1&t&&(a.wc(0,Q,3,1,"ng-container",0),a.ec(1,"async"),a.wc(2,I,1,0,"ng-template",null,1,a.xc)),2&t){const t=a.oc(3);a.jc("ngIf",a.fc(1,2,e.photos$))("ngIfElse",t)}},directives:[o.l,o.k,y.a],pipes:[o.b],styles:[".container[_ngcontent-%COMP%]{padding-top:1em;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]    {height:70vh;margin:0 auto}.container[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]     mat-card img.mat-card-image{height:55vh!important}"]}),t})(),$=(()=>{class t{constructor(t){this.userApi=t}resolve(t,e){return this.userApi.getUserPhotos(t.paramMap.get("id"))}}return t.\u0275fac=function(e){return new(e||t)(a.Vb(h))},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var x=n("eIep"),A=n("vkgz"),B=n("/uUt"),U=n("tkvR");function L(t,e){if(1&t&&a.Nb(0,"photo",4),2&t){const t=e.$implicit,n=a.dc(2);a.jc("photo",t)("scrollCallback",n.scrollCallback)("immediateCallback",!1)("scrollPercent",90)}}function N(t,e){if(1&t&&(a.Pb(0),a.Rb(1,"div",2),a.wc(2,L,1,4,"photo",3),a.Qb(),a.Ob()),2&t){const t=a.dc();a.Bb(2),a.jc("ngForOf",t.photos)}}function F(t,e){1&t&&a.Nb(0,"div")}let J=(()=>{class t{constructor(t,e){this.activatedRoute=t,this.userApi=e,this.photos=[],this.pageNumber=1,this.pageSize=20,this.processData=t=>{console.log(t),this.pageNumber++,this.photos=t?this.photos.concat(t):[],console.log(this.photos)},this.activatedRoute.data.pipe(Object(v.a)(t=>t.photos)).subscribe(t=>this.photos=t),this.scrollCallback=this.searchUserPhotos.bind(this)}searchUserPhotos(){return this.activatedRoute.paramMap.pipe(Object(x.a)(t=>this.userApi.getUserPhotos(t.get("id"),{page:this.pageNumber,per_page:this.pageSize})),Object(A.a)(this.processData),Object(B.a)())}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(b.a),a.Mb(h))},t.\u0275cmp=a.Gb({type:t,selectors:[["user-photos"]],decls:3,vars:1,consts:[[4,"ngIf"],["loading",""],[1,"container"],["class","photo","infinite-scroll","",3,"photo","scrollCallback","immediateCallback","scrollPercent",4,"ngFor","ngForOf"],["infinite-scroll","",1,"photo",3,"photo","scrollCallback","immediateCallback","scrollPercent"]],template:function(t,e){1&t&&(a.wc(0,N,3,1,"ng-container",0),a.wc(1,F,1,0,"ng-template",null,1,a.xc)),2&t&&a.jc("ngIf",e.photos)},directives:[o.l,o.k,y.a,U.a],styles:[".container[_ngcontent-%COMP%]{padding-top:1em;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]    {height:70vh;margin:0 auto}.container[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]     mat-card img.mat-card-image{height:55vh!important}"]}),t})();var z=n("l0rg"),V=n("Dxy4"),E=n("Tj54"),K=n("M9ds"),D=n("8Qe2"),S=n("fqV1");const G=function(t){return{id:t}},T=function(t){return["./photos",t]},q=function(){return{exact:!0}},Y=function(t){return["./liked",t]},Z=function(t){return["./collections",t]};function W(t,e){if(1&t&&(a.Pb(0),a.Rb(1,"mat-toolbar",2),a.Rb(2,"a",3),a.Rb(3,"mat-icon"),a.yc(4,"arrow_back"),a.Qb(),a.Qb(),a.Rb(5,"span"),a.yc(6),a.Qb(),a.Qb(),a.Rb(7,"div"),a.Rb(8,"div",4),a.Rb(9,"div"),a.Rb(10,"div",5),a.Rb(11,"div",6),a.Rb(12,"div",7),a.Rb(13,"div",8),a.Rb(14,"div"),a.Nb(15,"img",9),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Rb(16,"div",6),a.Rb(17,"div",10),a.Rb(18,"div",11),a.Rb(19,"h1"),a.yc(20),a.Qb(),a.Qb(),a.Rb(21,"div",11),a.Rb(22,"div"),a.yc(23),a.Qb(),a.Rb(24,"div",12),a.Rb(25,"div"),a.yc(26),a.Qb(),a.Rb(27,"div"),a.yc(28),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Rb(29,"nav",13),a.Rb(30,"a",14,15),a.yc(32," Fotos "),a.Qb(),a.Rb(33,"a",16,17),a.yc(35," Likes "),a.Qb(),a.Rb(36,"a",16,18),a.yc(38," Colecciones "),a.Qb(),a.Qb(),a.Nb(39,"router-outlet"),a.Qb(),a.Ob()),2&t){const t=e.ngIf,n=a.oc(31),o=a.oc(34),r=a.oc(37);a.Bb(6),a.zc(t.username),a.Bb(9),a.jc("src",t.profile_image.large,a.rc),a.Bb(5),a.zc(t.name),a.Bb(3),a.Ac(" ",t.bio," "),a.Bb(3),a.zc(t.location),a.Bb(2),a.zc("Seguidores: "+t.followers_count),a.Bb(2),a.jc("routerLink",a.lc(18,T,a.lc(16,G,t.username)))("matBadge",t.total_photos)("active",n.isActive)("routerLinkActiveOptions",a.kc(20,q)),a.Bb(3),a.jc("routerLink",a.lc(23,Y,a.lc(21,G,t.username)))("matBadge",t.total_likes)("active",o.isActive),a.Bb(3),a.jc("routerLink",a.lc(27,Z,a.lc(25,G,t.username)))("matBadge",t.total_collections)("active",r.isActive)}}function H(t,e){1&t&&a.Nb(0,"loading")}const X=[{path:"",component:(()=>{class t{constructor(t){this.activatedRoute=t}ngOnInit(){this.user$=this.activatedRoute.data.pipe(Object(v.a)(t=>t.user))}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(b.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["user"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loading",""],["color","primary","role","heading",1,"mat-elevation-z5"],["mat-icon-button","","routerLink",".."],[1,"profile-info"],[1,"wrapper"],[1,"spacer"],[1,"profile-picture-container"],[1,"profile-picture-wrapper"],["alt","Foto de perfil",3,"src"],[1,"user-info-container"],[1,"user-info-wrapper"],[1,"extra-user-info"],["mat-tab-nav-bar","",1,"nav"],["mat-tab-link","","matBadgeOverlap","false","routerLinkActive","",3,"routerLink","matBadge","active","routerLinkActiveOptions"],["photoRoute","routerLinkActive"],["mat-tab-link","","matBadgeOverlap","false","routerLinkActive","",3,"routerLink","matBadge","active"],["likedRoute","routerLinkActive"],["collectionRoute","routerLinkActive"]],template:function(t,e){if(1&t&&(a.wc(0,W,40,29,"ng-container",0),a.ec(1,"async"),a.wc(2,H,1,0,"ng-template",null,1,a.xc)),2&t){const t=a.oc(3);a.jc("ngIf",a.fc(1,2,e.user$))("ngIfElse",t)}},directives:[o.l,z.a,V.a,b.d,E.a,K.b,K.a,b.c,D.a,b.f,S.a],pipes:[o.b],styles:['.profile-info[_ngcontent-%COMP%]{padding:60px 25px 72px}.profile-info[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:flex}.profile-info[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]:before{content:" ";display:table}.profile-info[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]:after{clear:both}.profile-info[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{padding-bottom:24px;padding-top:24px}.profile-info[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]   .profile-picture-container[_ngcontent-%COMP%]{margin-left:auto;margin-right:32px}.profile-info[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]   .profile-picture-container[_ngcontent-%COMP%]   .profile-picture-wrapper[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.profile-info[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]   .profile-picture-container[_ngcontent-%COMP%]   .profile-picture-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative}.profile-info[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]   .profile-picture-container[_ngcontent-%COMP%]   .profile-picture-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;border-radius:50%;overflow:hidden;background-color:rgba(0,0,0,.1)}.profile-info[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]   .profile-picture-container[_ngcontent-%COMP%]   .profile-picture-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:after{position:absolute;top:0;right:0;bottom:0;left:0;content:"";pointer-events:none;border:1px solid rgba(0,0,0,.05);border-radius:50%}.profile-info[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]   .user-info-container[_ngcontent-%COMP%]{margin-bottom:-16px;margin-left:0}.profile-info[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]   .user-info-container[_ngcontent-%COMP%]   .user-info-wrapper[_ngcontent-%COMP%]{padding-bottom:16px;padding-left:0}.profile-info[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]   .user-info-container[_ngcontent-%COMP%]   .extra-user-info[_ngcontent-%COMP%]{padding-bottom:16px}.nav[_ngcontent-%COMP%]{background-color:#cedbf4}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#222}']}),t})(),resolve:{user:(()=>{class t{constructor(t){this.userApi=t}resolve(t,e){return this.userApi.getUser(t.paramMap.get("id"))}}return t.\u0275fac=function(e){return new(e||t)(a.Vb(h))},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},children:[{path:"photos",component:J,resolve:{photos:$}},{path:"liked",component:j,resolve:{photos:k}},{path:"collections",component:w,resolve:{collections:m}}]}];let tt=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},imports:[[b.e.forChild(X)],b.e]}),t})(),et=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},imports:[[o.c,tt,u,g,p,c.a,r.a]]}),t})()}}]);